"use strict";let r,e;function i(e,t){var n=document.createElement("button"),e=document.createTextNode(e);return n.onclick=t,n.appendChild(e),n}fetch("facility-fw.json").then(e=>e.json()).then(e=>{r=e}).then(()=>console.log(r[0])).then(()=>{{var e=r;const t=document.querySelector("#table"),n=document.createElement("table"),a=document.createElement("thead"),d=document.createElement("tbody"),o=["Title","District","Route"],l=["Title_en","District_en","Route_en"],c=document.createElement("tr");o.forEach(e=>{var t=document.createElement("th"),e=document.createTextNode(e);t.appendChild(e),c.appendChild(t)}),a.appendChild(c),e.forEach(n=>{const a=document.createElement("tr"),t=(l.forEach(e=>{var t=document.createElement("td"),e=document.createTextNode(n[e].replace(/<br\s*\/?>/gm,"\n"));t.appendChild(e),a.appendChild(t)}),Array.from(a.querySelectorAll("td")));for(let e=0;e<t.length;e++)t[e].setAttribute("data-label",o[e]);var e=document.createElement("div"),c=document.createElement("td");c.setAttribute("class","utils"),e.appendChild(i("Copy",function(){var e=t.map(e=>e.textContent).join("\n").concat("\n");console.log(t),console.log(e),navigator.clipboard.writeText(e)})),e.appendChild(i("Map",function(){var e=n.Latitude,t=n.Longitude;window.open(`https://www.google.com/maps/search/?api=1&query=${e}%2C`+t)})),c.appendChild(e),a.appendChild(c),d.appendChild(a)}),n.appendChild(a),n.appendChild(d),t.appendChild(n)}}).then(()=>e=r.map(e=>e.District_en)).then(e=>e.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),Object.create(null))).then(t=>Object.keys(t).map(e=>({district:e,count:t[e]}))).then(e=>{e=e,new Chart(document.getElementById("districts"),{type:"pie",data:{labels:e.map(e=>e.district),datasets:[{data:e.map(e=>e.count)}]}})});